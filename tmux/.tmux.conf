# Note: Every time we make changes to `tmux.conf` file, source, or reload 
# the `tmux.conf` file to make the changes work.

# Reload configuration
bind -r r source-file ~/.tmux.conf

set -sg escape-time 0

set -g mouse on
set -g status on

unbind C-b
unbind C-a
set -g prefix C-a

# Form `vim/tmux` d/y buffer sync
set -g focus-events

# Use a different prefix for nested
bind-key -n C-y send-prefix

# Add double-tap meta key to toggle last window
bind-key C-a last-window

# Create more intuitive split key combos (same as modern screen)
unbind |
bind '\' split-window -h
unbind -
bind '|' split-window -v
unbind _
bind _ split-window -v

# Kill current window and all panes
bind-key & kill-window

# Avoid cursor movement messing with resize
set -g repeat-time 200

# Colors, clock, and stuff
set -g default-terminal "screen-256color"

set -g clock-mode-style 12
setw -g clock-mode-colour cyan
set -g base-index 1
setw -g pane-base-index 1

# Color the pane borders nearly invisible
# (when not using hacked tmux without them)
#set -g pane-border-style "fg=#1a1a1a,bg=#1a1a1a"
#set -g pane-active-border-style "fg=#1a1a1a,bg=#1a1a1a"
set -g pane-border-style "fg=#171717"
set -g pane-active-border-style "fg=#171717"

# Color of the window selection background
#set -g mode-style "bg=black,reverse"
set -g mode-style "bg=black"

# Very unique Mac bug
if-shell "type 'reattach-to-user-namespace' >/dev/null" "set -g default-command 'reattach-to-user-namespace -l $SHELL'"

set -g status-style "fg=#474747"
set -g status-bg colour234
set -g status-position top
set -g status-interval 1
set -g status-left ""
set -g status-right ""

set -g status-left "#(head -1 ~/.status) "
set -g status-right-length 50
set -g status-right "%a, %b %-e, %Y, %-l:%M:%S%p %Z%0z" 
set -g status-right-style "fg=#f9bc2f,bold"

set -g message-style "fg=red"

# usage: fzf-tmux [LAYOUT OPTIONS] [--] [FZF OPTIONS]

# See available options
fzf-tmux --help

# select git branches in horizontal split below (15 lines)
git branch | fzf-tmux -d 15

# select multiple words in vertical split on the left (20% of screen width)
cat /usr/share/dict/words | fzf-tmux -l 20% --multi --reverse
